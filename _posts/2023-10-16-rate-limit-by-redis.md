---

title: "더블 클릭 요청 방지하기 - RateLimiter"
date: 2023-10-26 09:29:00 +0900
aliases: 
tags: [Redis,Spring]
categories: [Redis]

---

레주마블 프로젝트를 개발하면서 발생한 문제와, 이에 대한 트러블 슈팅을 공유하고자합니다.

## **문제 상황**

레주마블 프로젝트의 핵심 서비스인 면접 예상 질문 생성은 다음과 같이, 사용자 이력서와 각종 정보를 입력한 후, 결과 생성 버튼으로 백엔드 서버에 요청하게 됩니다.

![problem](/assets/img/2023-10-26-rate-limit-by-redis/process.webp)

그러나 이때, 짧은 순간에 더블 클릭시 요청이 두번 가는 문제가 발생했습니다.

사용자는 한 요청만 응답받게 되지만, 실제 서버에는 요청이 두번 나가기 때문에 DB에도 같은 내용이 두 번 저장됩니다.

또한 OpenAi의 API를 사용량이 일정 limit을 초과하면 유료로 과금이 되기 때문에 이러한 문제가 지속되면 의미없는 요청으로 API 토큰을 낭비하고, DB에 중복 데이터가 적재되게 됩니다.


