---

title: "도커와 VM"
date: 2023-12-20 09:29:00 +0900
aliases: 
tags: [Docker,Container,Virtual Machine,VM]
categories: [Docker]

---

## VM 기술의 장점과 단점

> 하나의 서버에서 여러개의 컴퓨팅 환경을 구동하기 위해서는 어떻게 해야할까?
{: .prompt-info}

![hypervisor](/assets/img/2023-12-20-docker-and-vm/hypervisor.webp)

이를 위해서 사용된 것이 Virtual Machine, 즉 가상 머신 기술이다.

호스트와 다른 운영체제, 다른 환경의 응용 프로그램을 실행시키기 위해 사용한다.

특히 하이퍼바이저 기반의 가상화를 많이 사용했는데, VM이라는 독립된 가상 환경을 만들고 하이퍼바이저가 VM에 설치된 게스트 OS를 구동 및 모니터링을 할 수 있었다.

멀티 프로세스처럼, 각 VM은 자원이 독립적으로 할당 받아 하나의 VM에서 발생한 문제가 다른 VM으로 영향을 주지 않는 장점이 있었다.

반면에 단점도 명확하다.

게스트 OS 위에 소프트웨어가 실행되기 때문에 게스트 OS가 반드시 설치되어야했고, 그에 필요한 자원을 호스트에서 할당해주어야 했다.

그렇기 때문에 VM이 많아질수록 Guest OS의 개수도 비례해서 증가하고, 필요한 자원도 증가하는 것이다.

또한 VM이 많아질수록, 게스트 OS나 소프트웨어의 버전 관리를 하는데 있어서 번거로움이 있었다.

## Docker

이를 해결하고자, 게스트 OS 없이 호스트 OS를 통일한 시스템의 다른 컨테이너와 공유하고, 격리된 환경에서 애플리케이션을 실행할 필요가 있었다.

그를 위해서는 컨테이너 자체가 독립적으로 실행될 수 있어야했고, 컨테이너를 실행시키기 위한 컨테이너 이미지에는 코드, 런타임, 시스템 도구, 시스템 라이브러리 및 설정 등 소프트웨어를 실행하는데 필요한 모든 것이 포함되었다.

그리고 이 이미지를 활용해서 호스트 시스템 위에서 실행시키면 다른 OS에서 동작하는 것과 같은 가상 실행 환경을 제공할 수 있었다.

기존의 VM과 달리, 컨테이너마다 게스트 OS가 필요하지 않으며, 호스트 OS 커널을 사용해 여러 개의 컨테이너를 실행한다.

이는 각 컨테이너가 하나의 프로세스로써 자체적으로 격리되어 있고, 네트워크 인터페이스와 리소스를 갖는다.

단지 컨테이너형 가상화 소프트웨어만 설치하면 되었다.

## 도커 클라이언트와 도커 데몬

도커의 전체적인 구조에 대해서 간략하게 알아보자.

![docker architecture](/assets/img/2023-12-20-docker-and-vm/docker-architecture.webp)

도커를 사용해봤다면, 실행중인 컨테이너 목록을 보기 위해 'docker ps', 저장된 도커 이미지를 보기 위해 'docker images', 이미지를 실행하기 위해 'docker run -d ~~~'라는 명령어를 입력해본 적이 있을 것이다.

이는 모두 도커 클라이언트가 사용자가 원하는 명령을 입력할 수 있는 환경을 CUI로써 제공해주기 때문이다.


## 작성 중입니다.




## 레퍼런스

- [도커와 VM의 차이점은 무엇인가요?](https://aws.amazon.com/ko/compare/the-difference-between-docker-vm/)



